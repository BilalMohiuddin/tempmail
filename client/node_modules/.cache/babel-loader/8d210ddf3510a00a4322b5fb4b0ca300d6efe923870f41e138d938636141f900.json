{"ast":null,"code":"var _jsxFileName = \"/Users/smohiuddin/Temp Mail/client/src/components/EmailList.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useEmail } from '../contexts/EmailContext';\nimport { formatDistanceToNow } from 'date-fns';\nimport { Trash2, ExternalLink, Mail, MailOpen } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EmailList = ({\n  emails\n}) => {\n  _s();\n  const {\n    deleteEmail,\n    markEmailAsRead\n  } = useEmail();\n  const handleDelete = async (e, emailId) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (window.confirm('Are you sure you want to delete this email?')) {\n      await deleteEmail(emailId);\n    }\n  };\n  const handleEmailClick = async email => {\n    if (!email.read) {\n      await markEmailAsRead(email.id);\n    }\n  };\n  const truncateText = (text, maxLength = 100) => {\n    if (text.length <= maxLength) return text;\n    return text.substring(0, maxLength) + '...';\n  };\n  const extractSenderName = from => {\n    // Extract name from \"Name <email@domain.com>\" format\n    const match = from.match(/^([^<]+)\\s*<(.+)>$/);\n    if (match) {\n      return match[1].trim();\n    }\n    return from.split('@')[0];\n  };\n  const extractSenderDomain = from => {\n    const match = from.match(/@([^>]+)/);\n    return match ? match[1] : from.split('@')[1];\n  };\n  if (emails.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-8 text-center text-gray-500\",\n      children: \"No emails to display\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"divide-y divide-gray-200\",\n    children: emails.map(email => /*#__PURE__*/_jsxDEV(Link, {\n      to: `/email/${email.to}/${email.id}`,\n      onClick: () => handleEmailClick(email),\n      className: `block hover:bg-gray-50 transition-colors email-item ${email.read ? 'read' : 'unread'}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3 mb-2\",\n              children: [email.read ? /*#__PURE__*/_jsxDEV(MailOpen, {\n                className: \"h-4 w-4 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(Mail, {\n                className: \"h-4 w-4 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 min-w-0\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `font-medium truncate ${email.read ? 'text-gray-900' : 'text-gray-900'}`,\n                    children: extractSenderName(email.from)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 71,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-500 text-sm\",\n                    children: [\"@\", extractSenderDomain(email.from)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: `text-sm font-medium mb-1 ${email.read ? 'text-gray-700' : 'text-gray-900'}`,\n              children: email.subject || 'No Subject'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 mb-2 line-clamp-2\",\n              children: truncateText(email.body.replace(/<[^>]*>/g, ''), 150)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between text-xs text-gray-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: formatDistanceToNow(new Date(email.timestamp), {\n                  addSuffix: true\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 19\n              }, this), !email.read && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium\",\n                children: \"New\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-1 ml-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: e => handleDelete(e, email.id),\n              className: \"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors\",\n              title: \"Delete email\",\n              children: /*#__PURE__*/_jsxDEV(Trash2, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)\n    }, email.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(EmailList, \"HmMbvjLhr/mMbqCrV5VWhFIHlcE=\", false, function () {\n  return [useEmail];\n});\n_c = EmailList;\nexport default EmailList;\nvar _c;\n$RefreshReg$(_c, \"EmailList\");","map":{"version":3,"names":["React","Link","useEmail","formatDistanceToNow","Trash2","ExternalLink","Mail","MailOpen","jsxDEV","_jsxDEV","EmailList","emails","_s","deleteEmail","markEmailAsRead","handleDelete","e","emailId","preventDefault","stopPropagation","window","confirm","handleEmailClick","email","read","id","truncateText","text","maxLength","length","substring","extractSenderName","from","match","trim","split","extractSenderDomain","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","to","onClick","subject","body","replace","Date","timestamp","addSuffix","title","_c","$RefreshReg$"],"sources":["/Users/smohiuddin/Temp Mail/client/src/components/EmailList.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useEmail } from '../contexts/EmailContext';\nimport { formatDistanceToNow } from 'date-fns';\nimport { Trash2, ExternalLink, Mail, MailOpen } from 'lucide-react';\n\nconst EmailList = ({ emails }) => {\n  const { deleteEmail, markEmailAsRead } = useEmail();\n\n  const handleDelete = async (e, emailId) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (window.confirm('Are you sure you want to delete this email?')) {\n      await deleteEmail(emailId);\n    }\n  };\n\n  const handleEmailClick = async (email) => {\n    if (!email.read) {\n      await markEmailAsRead(email.id);\n    }\n  };\n\n  const truncateText = (text, maxLength = 100) => {\n    if (text.length <= maxLength) return text;\n    return text.substring(0, maxLength) + '...';\n  };\n\n  const extractSenderName = (from) => {\n    // Extract name from \"Name <email@domain.com>\" format\n    const match = from.match(/^([^<]+)\\s*<(.+)>$/);\n    if (match) {\n      return match[1].trim();\n    }\n    return from.split('@')[0];\n  };\n\n  const extractSenderDomain = (from) => {\n    const match = from.match(/@([^>]+)/);\n    return match ? match[1] : from.split('@')[1];\n  };\n\n  if (emails.length === 0) {\n    return (\n      <div className=\"p-8 text-center text-gray-500\">\n        No emails to display\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"divide-y divide-gray-200\">\n      {emails.map((email) => (\n        <Link\n          key={email.id}\n          to={`/email/${email.to}/${email.id}`}\n          onClick={() => handleEmailClick(email)}\n          className={`block hover:bg-gray-50 transition-colors email-item ${email.read ? 'read' : 'unread'}`}\n        >\n          <div className=\"p-4\">\n            <div className=\"flex items-start justify-between\">\n              <div className=\"flex-1 min-w-0\">\n                <div className=\"flex items-center space-x-3 mb-2\">\n                  {email.read ? (\n                    <MailOpen className=\"h-4 w-4 text-gray-400\" />\n                  ) : (\n                    <Mail className=\"h-4 w-4 text-blue-600\" />\n                  )}\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center space-x-2\">\n                      <span className={`font-medium truncate ${email.read ? 'text-gray-900' : 'text-gray-900'}`}>\n                        {extractSenderName(email.from)}\n                      </span>\n                      <span className=\"text-gray-500 text-sm\">\n                        @{extractSenderDomain(email.from)}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                \n                <h3 className={`text-sm font-medium mb-1 ${email.read ? 'text-gray-700' : 'text-gray-900'}`}>\n                  {email.subject || 'No Subject'}\n                </h3>\n                \n                <p className=\"text-sm text-gray-600 mb-2 line-clamp-2\">\n                  {truncateText(email.body.replace(/<[^>]*>/g, ''), 150)}\n                </p>\n                \n                <div className=\"flex items-center justify-between text-xs text-gray-500\">\n                  <span>\n                    {formatDistanceToNow(new Date(email.timestamp), { addSuffix: true })}\n                  </span>\n                  {!email.read && (\n                    <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium\">\n                      New\n                    </span>\n                  )}\n                </div>\n              </div>\n              \n              <div className=\"flex items-center space-x-1 ml-4\">\n                <button\n                  onClick={(e) => handleDelete(e, email.id)}\n                  className=\"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors\"\n                  title=\"Delete email\"\n                >\n                  <Trash2 className=\"h-4 w-4\" />\n                </button>\n              </div>\n            </div>\n          </div>\n        </Link>\n      ))}\n    </div>\n  );\n};\n\nexport default EmailList; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}